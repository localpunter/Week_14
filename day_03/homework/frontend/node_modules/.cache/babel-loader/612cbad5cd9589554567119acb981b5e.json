{"ast":null,"code":"import _classCallCheck from \"/Users/user/codeclan/work_files/week_14/day_03/homework/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/user/codeclan/work_files/week_14/day_03/homework/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/user/codeclan/work_files/week_14/day_03/homework/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/user/codeclan/work_files/week_14/day_03/homework/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/user/codeclan/work_files/week_14/day_03/homework/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/user/codeclan/work_files/week_14/day_03/homework/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/user/codeclan/work_files/week_14/day_03/homework/frontend/src/containers/pirates/PirateEditFormContainer.js\";\nimport React, { Component } from 'react';\nimport Request from '../../helpers/request';\nimport PirateEditForm from '../../components/pirates/PirateEditForm';\n\nvar PirateEditFormContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PirateEditFormContainer, _Component);\n\n  function PirateEditFormContainer(props) {\n    var _this;\n\n    _classCallCheck(this, PirateEditFormContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PirateEditFormContainer).call(this, props));\n    _this.state = {\n      ships: null,\n      pirate: null,\n      raids: null\n    };\n    _this.handlePirateEdit = _this.handlePirateEdit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(PirateEditFormContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var request = new Request();\n      request.get(\"/api/ships\").then(function (ships) {\n        _this2.setState({\n          ships: ships._embedded.ships\n        });\n      });\n      request.get(\"/api/pirates/\" + this.props.id + \"?projection=embedShip\").then(function (pirate) {\n        _this2.setState({\n          pirate: pirate\n        });\n      });\n      request.get(\"/api/raids\").then(function (raids) {\n        _this2.setState({\n          raids: raids._embedded.raids\n        });\n      });\n    }\n  }, {\n    key: \"handlePirateEdit\",\n    value: function handlePirateEdit(pirate) {\n      var _this3 = this;\n\n      var request = new Request();\n      request.patch('/api/pirates/' + this.props.id, pirate).then(function () {\n        window.location = '/pirates/' + _this3.props.id;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.state.ships || !this.state.pirate || !this.state.raids) {\n        return null;\n      }\n\n      return React.createElement(PirateEditForm, {\n        ships: this.state.ships,\n        pirate: this.state.pirate,\n        raids: this.state.raids,\n        handlePirateEdit: this.handlePirateEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return PirateEditFormContainer;\n}(Component);\n\nexport default PirateEditFormContainer;","map":{"version":3,"sources":["/Users/user/codeclan/work_files/week_14/day_03/homework/frontend/src/containers/pirates/PirateEditFormContainer.js"],"names":["React","Component","Request","PirateEditForm","PirateEditFormContainer","props","state","ships","pirate","raids","handlePirateEdit","bind","request","get","then","setState","_embedded","id","patch","window","location"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AAEA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,cAAP,MAA2B,yCAA3B;;IAEMC,uB;;;;;AACJ,mCAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,iGAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AAACC,MAAAA,KAAK,EAAE,IAAR;AAAcC,MAAAA,MAAM,EAAE,IAAtB;AAA4BC,MAAAA,KAAK,EAAE;AAAnC,KAAb;AACA,UAAKC,gBAAL,GAAwB,MAAKA,gBAAL,CAAsBC,IAAtB,uDAAxB;AAHgB;AAIjB;;;;wCAEkB;AAAA;;AACjB,UAAMC,OAAO,GAAG,IAAIV,OAAJ,EAAhB;AACAU,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BC,IAA1B,CAA+B,UAACP,KAAD,EAAW;AACxC,QAAA,MAAI,CAACQ,QAAL,CAAc;AAACR,UAAAA,KAAK,EAAEA,KAAK,CAACS,SAAN,CAAgBT;AAAxB,SAAd;AACD,OAFD;AAGAK,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAkB,KAAKR,KAAL,CAAWY,EAA7B,GAAkC,uBAA9C,EAAuEH,IAAvE,CAA4E,UAACN,MAAD,EAAY;AACtF,QAAA,MAAI,CAACO,QAAL,CAAc;AAACP,UAAAA,MAAM,EAAEA;AAAT,SAAd;AACD,OAFD;AAGAI,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BC,IAA1B,CAA+B,UAACL,KAAD,EAAW;AACxC,QAAA,MAAI,CAACM,QAAL,CAAc;AAACN,UAAAA,KAAK,EAAEA,KAAK,CAACO,SAAN,CAAgBP;AAAxB,SAAd;AACD,OAFD;AAGD;;;qCAEgBD,M,EAAO;AAAA;;AACtB,UAAMI,OAAO,GAAG,IAAIV,OAAJ,EAAhB;AACAU,MAAAA,OAAO,CAACM,KAAR,CAAc,kBAAkB,KAAKb,KAAL,CAAWY,EAA3C,EAA+CT,MAA/C,EAAuDM,IAAvD,CAA4D,YAAM;AAChEK,QAAAA,MAAM,CAACC,QAAP,GAAkB,cAAc,MAAI,CAACf,KAAL,CAAWY,EAA3C;AACD,OAFD;AAGD;;;6BAEO;AACN,UAAG,CAAC,KAAKX,KAAL,CAAWC,KAAZ,IAAqB,CAAC,KAAKD,KAAL,CAAWE,MAAjC,IAA2C,CAAC,KAAKF,KAAL,CAAWG,KAA1D,EAAgE;AAC9D,eAAO,IAAP;AACD;;AACD,aAAO,oBAAC,cAAD;AAAgB,QAAA,KAAK,EAAI,KAAKH,KAAL,CAAWC,KAApC;AAA2C,QAAA,MAAM,EAAE,KAAKD,KAAL,CAAWE,MAA9D;AAAsE,QAAA,KAAK,EAAE,KAAKF,KAAL,CAAWG,KAAxF;AAA+F,QAAA,gBAAgB,EAAG,KAAKC,gBAAvH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAED;;;;EAjCmCT,S;;AAoCtC,eAAeG,uBAAf","sourcesContent":["import React, {Component} from 'react';\n\nimport Request from '../../helpers/request';\nimport PirateEditForm from '../../components/pirates/PirateEditForm'\n\nclass PirateEditFormContainer extends Component {\n  constructor(props){\n    super(props);\n    this.state = {ships: null, pirate: null, raids: null};\n    this.handlePirateEdit = this.handlePirateEdit.bind(this);\n  }\n\n  componentDidMount(){\n    const request = new Request();\n    request.get(\"/api/ships\").then((ships) => {\n      this.setState({ships: ships._embedded.ships})\n    });\n    request.get(\"/api/pirates/\" + this.props.id + \"?projection=embedShip\").then((pirate) => {\n      this.setState({pirate: pirate})\n    });\n    request.get(\"/api/raids\").then((raids) => {\n      this.setState({raids: raids._embedded.raids})\n    });\n  }\n\n  handlePirateEdit(pirate){\n    const request = new Request();\n    request.patch('/api/pirates/' + this.props.id, pirate).then(() => {\n      window.location = '/pirates/' + this.props.id\n    })\n  }\n\n  render(){\n    if(!this.state.ships || !this.state.pirate || !this.state.raids){\n      return null;\n    }\n    return <PirateEditForm ships = {this.state.ships} pirate={this.state.pirate} raids={this.state.raids} handlePirateEdit= {this.handlePirateEdit} />\n\n  }\n}\n\nexport default PirateEditFormContainer;\n"]},"metadata":{},"sourceType":"module"}