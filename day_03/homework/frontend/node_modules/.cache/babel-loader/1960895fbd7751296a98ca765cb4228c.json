{"ast":null,"code":"import _classCallCheck from \"/Users/user/codeclan/work_files/week_14/day_03/homework/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/user/codeclan/work_files/week_14/day_03/homework/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/user/codeclan/work_files/week_14/day_03/homework/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/user/codeclan/work_files/week_14/day_03/homework/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/user/codeclan/work_files/week_14/day_03/homework/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/user/codeclan/work_files/week_14/day_03/homework/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/user/codeclan/work_files/week_14/day_03/homework/frontend/src/containers/pirates/SinglePirateContainer.js\";\nimport React, { Component } from 'react';\nimport Pirate from '../../components/pirates/Pirate.js';\nimport PirateDetails from '../../components/pirates/PirateDetails.js';\nimport Request from '../../helpers/request.js';\n\nvar SinglePirateContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SinglePirateContainer, _Component);\n\n  function SinglePirateContainer(props) {\n    var _this;\n\n    _classCallCheck(this, SinglePirateContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SinglePirateContainer).call(this, props));\n    _this.state = {\n      pirate: null\n    };\n    _this.handleDelete = _this.handleDelete.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleEdit = _this.handleEdit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SinglePirateContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var request = new Request();\n      var url = '/api/pirates/' + this.props.id + '?projection=embedShip';\n      request.get(url).then(function (data) {\n        _this2.setState({\n          pirate: data\n        });\n      });\n    }\n  }, {\n    key: \"handleDelete\",\n    value: function handleDelete(id) {\n      var request = new Request();\n      var url = '/api/pirates/' + id;\n      request.delete(url).then(function () {\n        window.location = '/pirates';\n      });\n    }\n  }, {\n    key: \"handleEdit\",\n    value: function handleEdit(id) {\n      window.location = '/pirates/edit/' + id;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.state.pirate) {\n        return null;\n      }\n\n      return React.createElement(\"div\", {\n        className: \"component\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(Pirate, {\n        pirate: this.state.pirate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), React.createElement(PirateDetails, {\n        pirate: this.state.pirate,\n        raids: this.state.pirate.raids,\n        handleDelete: this.handleDelete,\n        handleEdit: this.handleEdit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return SinglePirateContainer;\n}(Component);\n\nexport default SinglePirateContainer;","map":{"version":3,"sources":["/Users/user/codeclan/work_files/week_14/day_03/homework/frontend/src/containers/pirates/SinglePirateContainer.js"],"names":["React","Component","Pirate","PirateDetails","Request","SinglePirateContainer","props","state","pirate","handleDelete","bind","handleEdit","request","url","id","get","then","data","setState","delete","window","location","raids"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,MAAP,MAAmB,oCAAnB;AACA,OAAOC,aAAP,MAA0B,2CAA1B;AAEA,OAAOC,OAAP,MAAoB,0BAApB;;IAEMC,qB;;;;;AACJ,iCAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AAChB,+FAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AAACC,MAAAA,MAAM,EAAE;AAAT,KAAb;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,uDAApB;AACA,UAAKC,UAAL,GAAiB,MAAKA,UAAL,CAAgBD,IAAhB,uDAAjB;AAJgB;AAKjB;;;;wCAEkB;AAAA;;AACjB,UAAIE,OAAO,GAAG,IAAIR,OAAJ,EAAd;AACA,UAAMS,GAAG,GAAG,kBAAkB,KAAKP,KAAL,CAAWQ,EAA7B,GAAkC,uBAA9C;AACAF,MAAAA,OAAO,CAACG,GAAR,CAAYF,GAAZ,EAAiBG,IAAjB,CAAsB,UAACC,IAAD,EAAU;AAC9B,QAAA,MAAI,CAACC,QAAL,CAAc;AAACV,UAAAA,MAAM,EAAES;AAAT,SAAd;AACD,OAFD;AAGD;;;iCAEYH,E,EAAG;AACd,UAAMF,OAAO,GAAG,IAAIR,OAAJ,EAAhB;AACA,UAAMS,GAAG,GAAG,kBAAkBC,EAA9B;AACAF,MAAAA,OAAO,CAACO,MAAR,CAAeN,GAAf,EAAoBG,IAApB,CAAyB,YAAM;AAC7BI,QAAAA,MAAM,CAACC,QAAP,GAAkB,UAAlB;AACD,OAFD;AAGD;;;+BAEUP,E,EAAG;AACZM,MAAAA,MAAM,CAACC,QAAP,GAAkB,mBAAmBP,EAArC;AACD;;;6BAGO;AACN,UAAG,CAAC,KAAKP,KAAL,CAAWC,MAAf,EAAsB;AACpB,eAAO,IAAP;AACD;;AACD,aACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,MAAD;AAAQ,QAAA,MAAM,EAAI,KAAKD,KAAL,CAAWC,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAEC,oBAAC,aAAD;AAAe,QAAA,MAAM,EAAI,KAAKD,KAAL,CAAWC,MAApC;AAA4C,QAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,MAAX,CAAkBc,KAArE;AAA4E,QAAA,YAAY,EAAI,KAAKb,YAAjG;AAA+G,QAAA,UAAU,EAAE,KAAKE,UAAhI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFD,CADF;AAOD;;;;EAxCiCV,S;;AA2CpC,eAAeI,qBAAf","sourcesContent":["import React, {Component} from 'react';\nimport Pirate from '../../components/pirates/Pirate.js';\nimport PirateDetails from '../../components/pirates/PirateDetails.js';\n\nimport Request from '../../helpers/request.js';\n\nclass SinglePirateContainer extends Component {\n  constructor(props){\n    super(props);\n    this.state = {pirate: null}\n    this.handleDelete = this.handleDelete.bind(this)\n    this.handleEdit= this.handleEdit.bind(this)\n  }\n\n  componentDidMount(){\n    let request = new Request()\n    const url = '/api/pirates/' + this.props.id + '?projection=embedShip';\n    request.get(url).then((data) => {\n      this.setState({pirate: data})\n    })\n  }\n\n  handleDelete(id){\n    const request = new Request();\n    const url = '/api/pirates/' + id;\n    request.delete(url).then(() => {\n      window.location = '/pirates'\n    })\n  }\n\n  handleEdit(id){\n    window.location = '/pirates/edit/' + id\n  }\n\n\n  render(){\n    if(!this.state.pirate){\n      return null;\n    }\n    return (\n      <div className=\"component\">\n       <Pirate pirate = {this.state.pirate} />\n       <PirateDetails pirate = {this.state.pirate} raids={this.state.pirate.raids} handleDelete = {this.handleDelete} handleEdit={this.handleEdit}/>\n     </div>\n    )\n\n  }\n}\n\nexport default SinglePirateContainer;\n"]},"metadata":{},"sourceType":"module"}